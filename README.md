# TS_Marker
联系邮箱：zipengwang@Gmail.com

## 前言
本人目前正在从事空间物理学相关工作，在进行统计研究的时候需要对一堆图进行筛选，筛选出一个我们需要的东西，然后集中进行研究。这些图件都是时间序列图，在从前的筛选中，我们使用的基本上是手动选图与挑选时间。本软件就将选图与时间导出的工作使用 MATLAB App 完成，我们只需要简单的进行标记即可输出时间信息与标记图件。

---

## 技术路线
本软件主要包括以下三个部分：

1. 图件名称整理  
2. 标记选图与导出  
3. 时间序列读取  

---

### 1️⃣ 图件名称整理
本软件包读取的时间信息有一部分来自图件名称，需要严格的文件名称格式与图片大小，如下所示：

<任务名>NO<编号><图代号><起始时间>-<结束时间>.png

markdown
Copy code

其中由于暂时的技术限制，起始时间与结束时间使用 `yyyy-mm-dd_HHMM` 格式，其中：

- `yyyy` 为年份  
- `mm` 代表月份  
- `dd` 表示日期  
- `HH` 是小时  
- `MM` 是分钟  

如 `2004-03-11_1023` 表示 2004 年 3 月 11 日 10 点 23 分。

如果时间不是整数，如从 2004 年 3 月 11 日 10:23:32 到 2004 年 3 月 11 日 10:33:32，为保证数据不被遗漏，作者建议扩充到分钟：`2004-03-11_1023` 到 `2004-03-11_1034`。

本部分主要由函数 `save_fig.m` 与 `time_rounded.m` 完成。

---

### 2️⃣ 标记与导出
本软件通过 MATLAB 的 GUI 界面完成标记，用户可以简单地用点击鼠标等方式完成工作。

时间读取与标记逻辑如下：

假设标记区域的起止横坐标为 $x$ 与 $x'$，时间区间为 $t_{start}$ 与 $t_{end}$，则时间计算公式为：

```math
t  = \frac{t_{end} - t_{start}}{x_{end} - x_{start}} (x - x_{start})
t' = \frac{t_{end} - t_{start}}{x_{end} - x_{start}} (x' - x_{start})